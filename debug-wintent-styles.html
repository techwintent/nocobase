<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Wintent æ ·å¼è°ƒè¯•å·¥å…·</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            padding: 20px;
            background: #f5f5f5;
        }
        .section {
            background: white;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h2 { color: #2f55d4; margin-top: 0; }
        pre {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        .success { color: #52c41a; }
        .error { color: #ff4d4f; }
        .warning { color: #faad14; }
        button {
            background: #2f55d4;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover { background: #1d3db8; }
    </style>
</head>
<body>
    <h1>ğŸ” Wintent æ ·å¼è°ƒè¯•å·¥å…·</h1>
    
    <div class="section">
        <h2>è¯´æ˜</h2>
        <p>è¯·åœ¨ <strong>http://localhost:13000</strong> é¡µé¢çš„æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œå¤åˆ¶ç²˜è´´ä¸‹é¢çš„è„šæœ¬å¹¶æ‰§è¡Œã€‚</p>
        <button onclick="copyScript()">ğŸ“‹ å¤åˆ¶è°ƒè¯•è„šæœ¬</button>
    </div>

    <div class="section">
        <h2>è°ƒè¯•è„šæœ¬</h2>
        <pre id="script">// ========================================
// Wintent æ ·å¼è°ƒè¯•è„šæœ¬
// ========================================

console.clear();
console.log('%cğŸ” Wintent æ ·å¼è¯Šæ–­å¼€å§‹', 'color: #2f55d4; font-size: 16px; font-weight: bold;');
console.log('='.repeat(60));

// 1. æ£€æŸ¥æ’ä»¶æ˜¯å¦åŠ è½½
console.log('\n%c1ï¸âƒ£ æ£€æŸ¥ Wintent æ’ä»¶åŠ è½½çŠ¶æ€', 'color: #1890ff; font-weight: bold;');
const styleTag = document.getElementById('wintent-custom-styles');
if (styleTag) {
    console.log('%câœ… Wintent æ ·å¼æ ‡ç­¾å·²æ³¨å…¥', 'color: #52c41a;');
    console.log('æ ·å¼å†…å®¹é•¿åº¦:', styleTag.textContent.length, 'å­—ç¬¦');
} else {
    console.log('%câŒ Wintent æ ·å¼æ ‡ç­¾æœªæ‰¾åˆ°ï¼', 'color: #ff4d4f;');
    console.log('å¯èƒ½åŸå› ï¼š');
    console.log('  1. æ’ä»¶æœªå¯ç”¨');
    console.log('  2. æ’ä»¶æœªæ­£ç¡®ç¼–è¯‘');
    console.log('  3. æµè§ˆå™¨ç¼“å­˜é—®é¢˜');
}

// 2. æ£€æŸ¥ Header å…ƒç´ 
console.log('\n%c2ï¸âƒ£ æ£€æŸ¥ Header å…ƒç´ ', 'color: #1890ff; font-weight: bold;');
const header = document.querySelector('.ant-layout-header.ant-pro-layout-header');
if (header) {
    console.log('%câœ… Header å…ƒç´ å·²æ‰¾åˆ°', 'color: #52c41a;');
    const computedStyle = window.getComputedStyle(header);
    console.log('å½“å‰è¾¹æ¡†æ ·å¼:');
    console.log('  border-bottom:', computedStyle.borderBottom);
    console.log('  border-block-end:', computedStyle.borderBlockEnd);
    
    // æ£€æŸ¥æœŸæœ›çš„æ ·å¼
    const expectedBorder = '1px solid rgba(5, 5, 5, 0.06)';
    const currentBorder = computedStyle.borderBottom;
    if (currentBorder.includes('rgba(5, 5, 5, 0.06)') || currentBorder.includes('1px solid')) {
        console.log('%câœ… è¾¹æ¡†æ ·å¼å·²æ­£ç¡®åº”ç”¨ï¼', 'color: #52c41a;');
    } else {
        console.log('%câš ï¸ è¾¹æ¡†æ ·å¼å¯èƒ½æœªç”Ÿæ•ˆ', 'color: #faad14;');
        console.log('æœŸæœ›å€¼:', expectedBorder);
        console.log('å®é™…å€¼:', currentBorder);
    }
} else {
    console.log('%câŒ Header å…ƒç´ æœªæ‰¾åˆ°', 'color: #ff4d4f;');
}

// 3. æŸ¥æ‰¾æ‰€æœ‰ç›¸å…³çš„ CSS è§„åˆ™
console.log('\n%c3ï¸âƒ£ æŸ¥æ‰¾æ‰€æœ‰ Header ç›¸å…³çš„ CSS è§„åˆ™', 'color: #1890ff; font-weight: bold;');
let ruleCount = 0;
try {
    const sheets = Array.from(document.styleSheets);
    sheets.forEach((sheet, index) => {
        try {
            const rules = Array.from(sheet.cssRules || sheet.rules || []);
            rules.forEach(rule => {
                if (rule.selectorText && rule.selectorText.includes('ant-layout-header')) {
                    const borderStyle = rule.style.borderBlockEnd || rule.style.borderBottom;
                    if (borderStyle) {
                        ruleCount++;
                        console.log(`è§„åˆ™ ${ruleCount}:`, rule.selectorText);
                        console.log('  border:', borderStyle);
                        console.log('  æ¥æº:', sheet.href || 'å†…è”æ ·å¼');
                    }
                }
            });
        } catch (e) {
            // CORS é™åˆ¶ï¼Œå¿½ç•¥
        }
    });
    if (ruleCount === 0) {
        console.log('%câš ï¸ æœªæ‰¾åˆ°ä»»ä½• Header è¾¹æ¡†è§„åˆ™', 'color: #faad14;');
    }
} catch (error) {
    console.error('æŸ¥æ‰¾ CSS è§„åˆ™æ—¶å‡ºé”™:', error);
}

// 4. æ‰‹åŠ¨åº”ç”¨æ ·å¼ï¼ˆä¸´æ—¶æµ‹è¯•ï¼‰
console.log('\n%c4ï¸âƒ£ æ‰‹åŠ¨åº”ç”¨æ ·å¼ï¼ˆä¸´æ—¶æµ‹è¯•ï¼‰', 'color: #1890ff; font-weight: bold;');
if (header) {
    header.style.borderBottom = '1px solid rgba(5, 5, 5, 0.06)';
    header.style.borderBlockEnd = '1px solid rgba(5, 5, 5, 0.06)';
    console.log('%câœ… å·²æ‰‹åŠ¨åº”ç”¨è¾¹æ¡†æ ·å¼ï¼ˆä¸´æ—¶ï¼‰', 'color: #52c41a;');
    console.log('å¦‚æœç°åœ¨å¯ä»¥çœ‹åˆ°è¾¹æ¡†ï¼Œè¯´æ˜é€‰æ‹©å™¨æœ‰æ•ˆï¼Œé—®é¢˜å¯èƒ½åœ¨äºæ ·å¼ä¼˜å…ˆçº§æˆ–æ’ä»¶åŠ è½½æ—¶æœº');
}

// 5. æ€»ç»“
console.log('\n%cğŸ“Š è¯Šæ–­æ€»ç»“', 'color: #2f55d4; font-size: 14px; font-weight: bold;');
console.log('='.repeat(60));
if (styleTag && header) {
    console.log('%câœ… åŸºç¡€æ£€æŸ¥é€šè¿‡', 'color: #52c41a;');
    console.log('å»ºè®®æ“ä½œ:');
    console.log('  1. æ£€æŸ¥ä¸Šé¢æ˜¾ç¤ºçš„å®é™…è¾¹æ¡†å€¼æ˜¯å¦ç¬¦åˆé¢„æœŸ');
    console.log('  2. å¦‚æœæ‰‹åŠ¨åº”ç”¨åå¯è§ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´ CSS ä¼˜å…ˆçº§');
    console.log('  3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜åé‡æ–°åŠ è½½');
} else {
    console.log('%câŒ æ£€æŸ¥å¤±è´¥', 'color: #ff4d4f;');
    if (!styleTag) {
        console.log('  - è¯·ç¡®ä¿ @wintent/plugin-config æ’ä»¶å·²å¯ç”¨');
        console.log('  - è¿è¡Œ: yarn pm enable @wintent/plugin-config');
    }
    if (!header) {
        console.log('  - ç¡®ä¿æ‚¨åœ¨æ­£ç¡®çš„é¡µé¢ä¸Šï¼ˆåº”è¯¥æœ‰ Headerï¼‰');
    }
}
console.log('\n%cğŸ‰ è¯Šæ–­å®Œæˆï¼', 'color: #2f55d4; font-size: 16px; font-weight: bold;');</pre>
    </div>

    <script>
        function copyScript() {
            const script = document.getElementById('script').textContent;
            navigator.clipboard.writeText(script).then(() => {
                alert('âœ… è„šæœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\n\nè¯·åœ¨ http://localhost:13000 é¡µé¢çš„æ§åˆ¶å°ï¼ˆF12ï¼‰ä¸­ç²˜è´´å¹¶æ‰§è¡Œã€‚');
            }).catch(err => {
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶è„šæœ¬å†…å®¹');
            });
        }
    </script>
</body>
</html>

